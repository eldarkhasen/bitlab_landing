function toSendRequest(e) { let t = $(e.target).parent()[0], s = $(t).find("*[name='name']")[0], o = $(t).find("*[name='course']")[0], a = $(t).find("*[name='phone']")[0], n = $(t).find(".error-text")[0]; $(s).removeClass("error"), $(o).removeClass("error"), $(a).removeClass("error"), $(n).addClass("dn"), $(n).text("Заполните все поля формы!"); $(t).find("*[name='course'] option:selected").html() || $(t).find("*[name='courseName']").val(); let i = $(s).val(), c = $(o).val(), l = $(a).val().replace("(", "").replaceAll(")", "").replaceAll("-", "").replaceAll(" ", "").replaceAll("+", ""); "" !== i ? null != c ? "" !== l ? ($("#loader").removeClass("dn"), document.body.classList.add("lock"), $.post("php/contact.php", { name: i, course: c, phone: l }, function (e) { if ($("#contact-result").html(e), document.getElementById("contact-success")) { let e = $(t).find("*[name='course'] option:selected").html() || $(t).find("*[name='courseName]").val(); localStorage.setItem("name", i), localStorage.setItem("courseName", e), t.reset(), window.setTimeout(function () { location.href = "thanks.html" }, 500) } }), setTimeout(() => { $("#loader").addClass("dn"), document.body.classList.remove("lock"), $(n).text("Произошла ошибка! Повторите попытку!"), $(n).removeClass("dn") }, 3e4)) : ($(a).addClass("error"), $(n).removeClass("dn")) : ($(o).addClass("error"), $(n).removeClass("dn")) : ($(s).addClass("error"), $(n).removeClass("dn")) } $(document).ready(function () { $("button[data-target='submit']").each(function () { $(this).click(function (e) { toSendRequest(e) }) }), $(".section-reviews__slider").slick({ arrows: !1, dots: !0, infinite: !1, slidesToShow: 3, responsive: [{ breakpoint: 991.98, settings: { slidesToShow: 2 } }, { breakpoint: 550, settings: { slidesToShow: 1 } }] }); let e = $(".section-howto__btn"), t = $("#section-howto-underline"), s = $(".section-howto__btn.active"), o = $("#section-howto-slider"), a = $(".section-howto__subtitles").first(), n = $("#section-howto__subtitle"); s[0] && (n.html(a.find("p[data-screen='" + s.data("screen") + "']").text()), t.css({ width: s.width(), transform: "translateX(" + s.position().left + "px)" }), $(e).each(function () { $(this).on("click", function () { let e = $(".section-howto__btn.active"), s = $(".section-howto__screen[data-screen='" + e.data("screen") + "']"), i = $(this), c = $(".section-howto__screen[data-screen='" + $(this).data("screen") + "']"), l = $(this).position().left + +window.getComputedStyle(this, null).marginLeft.replace("px", ""), r = -100 * c.index(); s.removeClass("active"), e.removeClass("active"), i.addClass("active"), c.addClass("active"), n.html(a.find("p[data-screen='" + i.data("screen") + "']").text()), t.css({ width: $(this).width(), transform: "translateX(" + l + "px)" }), o.css({ transform: "translateX(" + r + "%)" }) }) })), $("button[data-toggle='modal'").each(function () { let e = $(this); e.click(function () { let t = $("#" + e.data("modal")); if ("fullscreen-img" == e.data("modalType")) { let e = $(".section-howto__screen.active img").first().attr("src"); t.find(".section-howto-fullscreen__img")[0].src = e } if ("course-details" == e.data("modal")) { let s = $(e).parent().find(".section-course__program")[0], o = $(s).text(), a = $(s).data("course"), n = $(e).parent().find(".section-course__title").html(); t.find(".section-course-modal__content_description").text(o), t.find("*[name='course']").val(a), t.find("*[name='courseName']").val(n) } document.body.classList.add("lock"), t.addClass("show") }) }), $(".modal").each(function () { let e = $(this); e.click(function (t) { t.target.closest(".modal-content") || (document.body.classList.remove("lock"), e.removeClass("show"), $(".error").each(function () { $(this).removeClass("error") }), $(".error-text").each(function () { $(this).addClass("dn") })) }) }), $("input[type='tel']").each(function () { $(this).mask("+7(999) 999-99-99") }), $("#loader").addClass("dn"), $(".section-spoiler__elem_title").each(function () { let e = $(this); e.click(function () { e.toggleClass("active"), e.next().toggleClass("active") }) }) });